{"ast":null,"code":"var _jsxFileName = \"/Users/JJY/Desktop/react/dev/week-react-02/src/components/postbox/Postbox.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Postbox(_ref) {\n  _s();\n\n  let {\n    posts,\n    setPosts\n  } = _ref;\n  // let count = posts[0].id+1\n  // console.log(posts.length)\n  const [temp, setTemp] = useState(\"00.00\");\n  const [city, setCity] = useState(\"null\");\n\n  const getTemp = async () => {\n    const json = await (await fetch(\"http://spartacodingclub.shop/sparta_api/weather/seoul\")).json();\n    setCity(json.city);\n    setTemp(json.temp);\n  };\n\n  useEffect(() => {\n    getTemp();\n    console.log(city, temp);\n  });\n  const [showing, setShowing] = useState(false);\n\n  const showBox = () => {\n    if (showing === false) {\n      document.getElementsByClassName('mypost')[0].style.display = 'flex';\n    } else {\n      document.getElementsByClassName('mypost')[0].style.display = 'none';\n    }\n\n    setShowing(!showing);\n  };\n\n  const initialState = {\n    id: 0,\n    nickname: \"\",\n    comment: \"\"\n  };\n  const [post, setPost] = useState(initialState);\n\n  const onChangeHandler = event => {\n    // const {name,value} = event.target;\n    const name = event.target.name;\n    const value = event.target.value;\n    setPost({ ...post,\n      [name]: value,\n      id: posts.length\n    });\n  };\n\n  const onSubmitHandler = event => {\n    event.preventDefault();\n\n    if (post.nickname.trim() === \"\" || post.comment.trim() === \"\") {\n      return;\n    }\n\n    setPosts(cur => [post, ...cur]);\n    setPost(initialState); // count++\n  };\n\n  localStorage.setItem('posts', JSON.stringify(posts));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mypic\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"mypicTitle\",\n          children: \"\\uBC31\\uC608\\uB9B0 \\uD32C\\uBA85\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mypicTemp\",\n          children: [\"\\uD604\\uC7AC \", city, \" \\uAE30\\uC628: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"temp\",\n            children: temp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 60\n          }, this), \"\\uB3C4\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: showBox,\n          className: \"posting-box\",\n          children: \"POSTING BOX\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mypost\",\n      onSubmit: onSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uB2C9\\uB124\\uC784\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: post.nickname,\n          className: \"form-control\",\n          name: \"nickname\",\n          placeholder: \"\\uB2C9\\uB124\\uC784\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n          type: \"text\",\n          onChange: onChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC751\\uC6D0\\uB313\\uAE00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: post.comment,\n          className: \"form-control\",\n          name: \"comment\",\n          placeholder: \"\\uC751\\uC6D0\\uB313\\uAE00\\uC744 \\uB0A8\\uACA8\\uC8FC\\uC138\\uC694.\",\n          type: \"text\",\n          onChange: onChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"form-btn\",\n        children: \"\\uC751\\uC6D0 \\uB0A8\\uAE30\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Postbox, \"1BeF7tz7MQoP0Rc7KLDqNe9Q3jo=\");\n\n_c = Postbox;\nexport default Postbox;\n\nvar _c;\n\n$RefreshReg$(_c, \"Postbox\");","map":{"version":3,"names":["useEffect","useState","Postbox","posts","setPosts","temp","setTemp","city","setCity","getTemp","json","fetch","console","log","showing","setShowing","showBox","document","getElementsByClassName","style","display","initialState","id","nickname","comment","post","setPost","onChangeHandler","event","name","target","value","length","onSubmitHandler","preventDefault","trim","cur","localStorage","setItem","JSON","stringify","marginBottom"],"sources":["/Users/JJY/Desktop/react/dev/week-react-02/src/components/postbox/Postbox.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport './index.css';\n\nfunction Postbox({ posts, setPosts }) {\n    // let count = posts[0].id+1\n    // console.log(posts.length)\n    \n    const [temp, setTemp] = useState(\"00.00\")\n    const [city, setCity] = useState(\"null\")\n    const getTemp = async () => {\n        const json = await (\n            await fetch(\"http://spartacodingclub.shop/sparta_api/weather/seoul\")\n        ).json()\n        setCity(json.city)\n        setTemp(json.temp)\n    }\n    useEffect(() => {\n        getTemp()\n        console.log(city, temp)\n    })\n    \n    \n    const [showing, setShowing] = useState(false)\n    const showBox = () => {\n        if (showing === false) {\n            document.getElementsByClassName('mypost')[0].style.display='flex';\n        } else {\n            document.getElementsByClassName('mypost')[0].style.display='none'\n        }\n        setShowing(!showing);\n    }\n    const initialState = {\n        id: 0,\n        nickname: \"\",\n        comment: \"\",\n    }\n    \n    const [post, setPost] = useState(initialState)\n    const onChangeHandler = (event) => {\n        // const {name,value} = event.target;\n        const name = event.target.name\n        const value = event.target.value\n        setPost({ ...post, [name]: value, id: posts.length })\n    }\n    const onSubmitHandler = (event) => {\n        event.preventDefault()\n        if (post.nickname.trim() === \"\" || post.comment.trim() === \"\") {\n            return;\n        }\n        setPosts(cur => [post, ...cur])\n        setPost(initialState)\n        // count++\n    }\n    localStorage.setItem('posts',JSON.stringify(posts))\n    \n\n    return (\n        <div style={{marginBottom: \"20px\"}}>\n            <div className='wrap'>\n                <div className='mypic'>\n                    <h1 className='mypicTitle'>백예린 팬명록</h1>\n                    <p className='mypicTemp'>현재 {city} 기온: <span id=\"temp\">{temp}</span>도</p>\n                    <button onClick={showBox} className='posting-box'>POSTING BOX</button>\n                </div>\n            </div>\n            <form className='mypost' onSubmit={onSubmitHandler}>\n                <div className='form-floating'>\n                    <label>닉네임</label>\n                    <input\n                        value={post.nickname}\n                        className='form-control'\n                        name=\"nickname\"\n                        placeholder='닉네임을 입력하세요.'\n                        type=\"text\"\n                        onChange={onChangeHandler}\n                    />\n                </div>\n                <div className='form-floating'>\n                    <label>응원댓글</label>\n                    <input\n                        value={post.comment}\n                        className='form-control'\n                        name='comment'\n                        placeholder='응원댓글을 남겨주세요.'\n                        type=\"text\"\n                        onChange={onChangeHandler}\n                    />\n                </div>\n                <button className='form-btn'>응원 남기기</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Postbox"],"mappings":"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"},"metadata":{},"sourceType":"module"}